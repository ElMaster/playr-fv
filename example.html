<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<title>videojs-vr example</title>
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <base href="https://elmaster.github.io/playr-fv/">

    <!--<link rel="stylesheet" href="dist/videojs.css">-->
    <!--<script src="dist/video.dev.js"></script>-->
    <!--<script src="dist/js/three.js"></script>-->

    <!--<script type="text/javascript" src="dist/js/VRControls.js"></script>-->
    <!--<script type="text/javascript" src="dist/js/VREffect.js"></script>-->
    <!--<script type="text/javascript" src="dist/js/webvr-polyfill.js"></script>-->
    <!--<script type="text/javascript" src="dist/js/webvr-manager.js"></script>-->
    <link rel="stylesheet" href="node_modules/video.js/dist/video-js.css">

    <!--<script src="./dist/player-skin.js"></script>-->
    <script type="text/javascript" src="node_modules/video.js/dist/video.js?v=1"></script>
    <script type="text/javascript" src="node_modules/dashjs/dist/dash.all.min.js?v=1"></script>
    <script type="text/javascript" src="node_modules/videojs-contrib-dash/dist/videojs-dash.js?v=1"></script>

    <script type="text/javascript" src="node_modules/three/build/three.js?v=1"></script>
    <script type="text/javascript" src="node_modules/three/examples/js/controls/VRControls.js?v=1"></script>
    <script type="text/javascript" src="node_modules/three/examples/js/effects/VREffect.js?v=1"></script>
    <script type="text/javascript" src="node_modules/webvr-polyfill/build/webvr-polyfill.js?v=1"></script>
    <script type="text/javascript" src="node_modules/webvr-boilerplate/build/webvr-manager.js?v=1"></script>

    <script type="text/javascript" src="src/js/videojs.vr.js"></script>
    <!--<script type="text/javascript" src="src/js/webvr.config.js"></script>-->
    <!--<script src="./dist/player.full.js"></script>-->
    <script>

        window.WebVRConfig = {
            // Forces availability of VR mode, even for non-mobile devices.
            FORCE_ENABLE_VR: false, // Default: false.

            // Complementary filter coefficient. 0 for accelerometer, 1 for gyro.
            K_FILTER: 0.98, // Default: 0.98.

            // How far into the future to predict during fast motion (in seconds).
            PREDICTION_TIME_S: 0.040, // Default: 0.040.

            // Flag to disable touch panner. In case you have your own touch controls.
            TOUCH_PANNER_DISABLED: false, // Default: false.

            // Enable yaw panning only, disabling roll and pitch. This can be useful
            // for panoramas with nothing interesting above or below.
            YAW_ONLY: false, // Default: false.

            // To disable keyboard and mouse controls, if you want to use your own
            // implementation.
            MOUSE_KEYBOARD_CONTROLS_DISABLED: false, // Default: false.

            // Prevent the polyfill from initializing immediately. Requires the app
            // to call InitializeWebVRPolyfill() before it can be used.
            DEFER_INITIALIZATION: false, // Default: false.

            // Enable the deprecated version of the API (navigator.getVRDevices).
            ENABLE_DEPRECATED_API: false, // Default: false.

            // Scales the recommended buffer size reported by WebVR, which can improve
            // performance.
            BUFFER_SCALE: 0.5, // Default: 1.0.

            // Allow VRDisplay.submitFrame to change gl bindings, which is more
            // efficient if the application code will re-bind its resources on the
            // next frame anyway. This has been seen to cause rendering glitches with
            // THREE.js.
            // Dirty bindings include: gl.FRAMEBUFFER_BINDING, gl.CURRENT_PROGRAM,
            // gl.ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING,
            // and gl.TEXTURE_BINDING_2D for texture unit 0.
            DIRTY_SUBMIT_FRAME_BINDINGS: false // Default: false.
        }

    </script>


<style>
html{height:100%;width:100%;padding:0;margin:0}
body{height:100%;width:100%;padding:0;margin:0;overflow:hidden}
object{height:100%;width:100%}
#video-container {width:100%;height:100%}
</style>

</head>

<body>

<video id="video-container" class="video-js vjs-default-skin" preload="auto" crossOrigin="anonymous" width="100%" height="100%" data-setup="{}" controls playsinline webkit-playsinline>
  <source src="https://cdn-au.metacdn.com/jumipqxo/1u2Jh28/20160823050905_file_id14719289501962016_08_08_08_22_16_er_MP4-HIGH-WEBM_VP9.webm" type="video/webm">
  <source src="https://cdn-au.metacdn.com/jumipqxo/1lgi0Am/20160823050905_file_id14719289501962016_08_08_08_22_16_er_MP4-HIGH-MP4.mp4" type="video/mp4">
  <!--
  <source src="http://cdn-au.metacdn.com/jumipqxo/24CqTuS/20160823050905_file_id14719289501962016_08_08_08_22_16_er_MP4-PLAYLIST_1478220740600.mpd" type="application/dash+xml"
  -->
  <!-- iOS devices need a local/relative source (same host/domain) due to CORS bug: https://bugs.webkit.org/show_bug.cgi?id=135379 -->
</video>

<!--
  video.js will automatically initialize the video element since it's loaded in
  the head of the document but you still need to configure and initialize the
  plugin.
-->

<script>
    (function(){
        var player = videojs( '#video-container', {
            techOrder: ['html5']
        });
        player.vr({projection: "360"});
    })();
</script>
</body>
</html>
